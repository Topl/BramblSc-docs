<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Modules/Util/NodeUtils/NodeUtils">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">NodeUtils | Topl</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://topl.github.io/sdk-spec/docs/Modules/Util/NodeUtils"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NodeUtils | Topl"><meta data-rh="true" name="description" content="This page describes interfaces and helper classes that are used to work with a Bifrost node. The descriptions are in a"><meta data-rh="true" property="og:description" content="This page describes interfaces and helper classes that are used to work with a Bifrost node. The descriptions are in a"><link data-rh="true" rel="icon" href="/sdk-spec/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://topl.github.io/sdk-spec/docs/Modules/Util/NodeUtils"><link data-rh="true" rel="alternate" href="https://topl.github.io/sdk-spec/docs/Modules/Util/NodeUtils" hreflang="en"><link data-rh="true" rel="alternate" href="https://topl.github.io/sdk-spec/docs/Modules/Util/NodeUtils" hreflang="x-default"><link rel="stylesheet" href="/sdk-spec/assets/css/styles.d7280a71.css">
<link rel="preload" href="/sdk-spec/assets/js/runtime~main.705f2394.js" as="script">
<link rel="preload" href="/sdk-spec/assets/js/main.c67db431.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sdk-spec/"><div class="navbar__logo"><img src="/sdk-spec/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/sdk-spec/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Topl</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Topl/sdk-spec" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sdk-spec/docs/Getting Started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/sdk-spec/docs/Modules">Modules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Common/Models">Common</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/NativeTransactor">Native Transaction Builder</a><button aria-label="Toggle the collapsible sidebar category &#x27;Native Transaction Builder&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Query">Query</a><button aria-label="Toggle the collapsible sidebar category &#x27;Query&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/sdk-spec/docs/Modules/Util">Util</a><button aria-label="Toggle the collapsible sidebar category &#x27;Util&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/sdk-spec/docs/Modules/Util/NodeUtils">NodeUtils</a><button aria-label="Toggle the collapsible sidebar category &#x27;NodeUtils&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Util/NodeUtils/BifrostConnection Tests/getUrl_test">BifrostConnection Tests</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Util/NodeUtils/NodeCache Tests/constructor_test">NodeCache Tests</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Util/NodeUtils/SlotUtil Tests/slot_timestamp_conversion_test">SlotUtil Tests</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk-spec/docs/Modules/Wallet/Credentialler">Wallet</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sdk-spec/docs/Overview">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sdk-spec/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sdk-spec/docs/Modules"><span itemprop="name">Modules</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sdk-spec/docs/Modules/Util"><span itemprop="name">Util</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NodeUtils</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>NodeUtils</h1><p>This page describes interfaces and helper classes that are used to work with a Bifrost node. The descriptions are in a
language-neutral form. To be language-neutral, we <a href="/sdk-spec/docs/Overview/Assumptions">follow a set of assumptions</a>.</p><p>The interfaces and classes documented on this page are:</p><ul><li><a href="#interface-bifrostconnection">BifrostConnection</a></li><li><a href="#class-nodecache">NodeCache</a></li><li><a href="#class-slotutil">SlotUtil</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-bifrostconnection">Interface BifrostConnection<a class="hash-link" href="#interface-bifrostconnection" title="Direct link to heading">​</a></h2><p>Objects that implement this interface are responsible for providing connections used for gRPC calls from a client to a
Bifrost node. Such objects also provide information about how the connections are configured.</p><p>All classes that implement this interface will implementation specific. In particular, this interface does not specify
anything about how connections are managed. The expectation is that all details related to connection management will be
determined by the gRPC implementation used, as that will be the main consumer of this interface&#x27;s implementation.</p><p>Here is a summary of the methods/functions in this interface:</p><ul><li><a href="#geturl">getUrl</a> — Get the URL of the Bifrost node that a BifrostConnection works with.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="geturl">getUrl<a class="hash-link" href="#geturl" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures">Signature(s)<a class="hash-link" href="#signatures" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">getUrl() returns String</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a class="hash-link" href="#description" title="Direct link to heading">​</a></h4><p>Return the URL of the Bifrost node that this object connects to.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">​</a></h4><p><em>No Parameters</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns<a class="hash-link" href="#returns" title="Direct link to heading">​</a></h4><p>A string that is the URL of the Bifrost node this object connect to.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a class="hash-link" href="#errors" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><p>No expected errors</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure">Testing Procedure<a class="hash-link" href="#testing-procedure" title="Direct link to heading">​</a></h4><p>The testing procedure for <code>getNodeConfig</code>
is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/BifrostConnection Tests/getUrl_test">described on a separate page</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-nodecache">Class NodeCache<a class="hash-link" href="#class-nodecache" title="Direct link to heading">​</a></h2><p>This class is responsible for caching various information from a BiFrost node.</p><p>Here is a summary of the methods/functions in this class:</p><ul><li><a href="#constructor">Constructor</a> — Construct a <code>NodeCache</code></li><li><a href="#getgenesisblock">getGenesisBlock</a> — Get the Bifrost node&#x27;s genesis block</li><li><a href="#getnodeconfig">getNodeConfig</a> — Get the Bifrost node&#x27;s configuration information.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constructor">Constructor<a class="hash-link" href="#constructor" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-1">Signature(s)<a class="hash-link" href="#signatures-1" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NodeCache(connection: BifrostConnection, timeoutMillis: uint64)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-1">Description<a class="hash-link" href="#description-1" title="Direct link to heading">​</a></h4><p>Construct an instance of <code>NodeCache</code> that gets data from the bifrost node that the given <code>BifrostConnection</code> object
connects to. The constructor must initiate the pre-fetch of the node&#x27;s configuration and Genesis block information.</p><p>The pre-fetch may be synchronous or asynchronous. It is recommended, but not required, that the pre-fetch be
asynchronous. If the pre-fetch is synchronous, then the constructor will be expected to produce the errors noted below.
If the pre-fetch is asynchronous, then any errors encountered will not be returned from this constructor, but from the
functions/methods that attempt to access the information from the constructed object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-1">Parameters<a class="hash-link" href="#parameters-1" title="Direct link to heading">​</a></h4><ul><li><code>connection</code> the <code>BifrostConnection</code> object that will be used to communicate with the Bifrost node.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-1">Returns<a class="hash-link" href="#returns-1" title="Direct link to heading">​</a></h4><p>The constructed object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-1">Errors<a class="hash-link" href="#errors-1" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><ul><li>Unable to connect to Bifrost node.</li><li>Bifrost node returned an error.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-1">Testing Procedure<a class="hash-link" href="#testing-procedure-1" title="Direct link to heading">​</a></h4><p>The testing procedure for <code>getNodeConfig</code> is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/NodeCache Tests/constructor_test">described on a separate page</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getgenesisblock">getGenesisBlock<a class="hash-link" href="#getgenesisblock" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-2">Signature(s)<a class="hash-link" href="#signatures-2" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">getGenesisBlock() returns co.topl.proto.models.FullBlock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-2">Description<a class="hash-link" href="#description-2" title="Direct link to heading">​</a></h4><p>Get a cached version of the genesis block. This cached object is obtained by the <code>NodeCache</code> constructor initiating a
call to calling <code>BifrostQuery.getBlockByHeight(1)</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-2">Parameters<a class="hash-link" href="#parameters-2" title="Direct link to heading">​</a></h4><p><em>No Parameters</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-2">Returns<a class="hash-link" href="#returns-2" title="Direct link to heading">​</a></h4><p>The cached <code>co.topl.proto.models.FullBlock</code> object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-2">Errors<a class="hash-link" href="#errors-2" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce as a result of a failed asynchronous query initiated by the constructor
include:</p><ul><li>Unable to connect to Bifrost node.</li><li>Bifrost node returned an error.</li><li>The Bifrost node returned an error .</li><li>The Bifrost node did not return a result before the timeout happened</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-2">Testing Procedure<a class="hash-link" href="#testing-procedure-2" title="Direct link to heading">​</a></h4><p>The testing procedure for the constructor
is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/NodeCache Tests/getgenesisblock_test">described on a separate page</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getnodeconfig">getNodeConfig<a class="hash-link" href="#getnodeconfig" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-3">Signature(s)<a class="hash-link" href="#signatures-3" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">getNodeConfig(connection: BifrostConnection, timeoutMillis: uint64, maxAgeMillis: uint64)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns co.topl.proto.models.node.NodeConfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-3">Description<a class="hash-link" href="#description-3" title="Direct link to heading">​</a></h4><p>Get a possibly cached version of the Bifrost node&#x27;s configuration information. It gets the <code>NodeConfig</code> object by
calling <code>BifrostQuery.getNodeConfig</code> if there is no cached object or the cached object is too old.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-3">Parameters<a class="hash-link" href="#parameters-3" title="Direct link to heading">​</a></h4><ul><li><code>connection</code> the <code>BifrostConnection</code> object that will be used to communicate with the Bifrost node.</li><li><code>timeoutMillis</code> <em>(optional)</em> The maximum number of milliseconds to wait. The default value is 2000 (2 seconds).</li><li><code>maxAgeMillis</code> <em>(optional)</em> The maximum age of the object to be returned. The default value is 86,400,000 (1 day). If
the <code>NodeConfig</code> object is older than this, it will be refreshed by calling <code>BifrostQuery.getNodeConfig</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-3">Returns<a class="hash-link" href="#returns-3" title="Direct link to heading">​</a></h4><p>A <code>co.topl.proto.models.node.NodeConfig</code> that contains the node&#x27;s configuration. The encapsulated configuration must
include the configured slot duration.</p><p>The value is cached. The implementation is expected to refresh the information when it</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-3">Errors<a class="hash-link" href="#errors-3" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><ul><li>Unable to connect to Bifrost node.</li><li>Bifrost node returned an error.</li><li>The Bifrost node returned an error .</li><li>The Bifrost node did not return a result before the timeout happened</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-3">Testing Procedure<a class="hash-link" href="#testing-procedure-3" title="Direct link to heading">​</a></h4><p>The testing procedure for the constructor
is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/NodeCache Tests/getnodeconfig_test">described on a separate page</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-slotutil">Class SlotUtil<a class="hash-link" href="#class-slotutil" title="Direct link to heading">​</a></h2><p>This a class for working with <a href="/sdk-spec/docs/Overview/Glossary#Slot">slot</a> numbers.</p><p>Here is a summary of the methods/functions in this class:</p><ul><li><a href="#slotutil-constructor">Constructor</a> — Construct an instance of <code>SlotUtil</code></li><li><a href="#slotnumbertotimestamp">slotNumberToTimestamp</a> — Convert a slot number to a Unix Timestamp</li><li><a href="#timestamptoslotnumber">timestampToSlotNumber</a> — Convert a Unix timestamp to a slot number.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slotutil-constructor">SlotUtil Constructor<a class="hash-link" href="#slotutil-constructor" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-4">Signature(s)<a class="hash-link" href="#signatures-4" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SlotUtil(nodeCache: NodeCache)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-4">Description<a class="hash-link" href="#description-4" title="Direct link to heading">​</a></h4><p>Construct an instance of <code>SlotUtil</code> that gets the duration of slots
from <a href="#getnodeconfig">nodeCache.getNodeConfig.slotDuration</a> and the start of slot 0
from<a href="#getgenesisblock">nodeCache.getGenesisBlock().header.timestamp</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-4">Parameters<a class="hash-link" href="#parameters-4" title="Direct link to heading">​</a></h4><ul><li><code>connection</code> the <code>BifrostConnection</code> object that will be used to communicate with the Bifrost node.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-4">Returns<a class="hash-link" href="#returns-4" title="Direct link to heading">​</a></h4><p>The constructed object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-4">Errors<a class="hash-link" href="#errors-4" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><p><em>No Errors</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-4">Testing Procedure<a class="hash-link" href="#testing-procedure-4" title="Direct link to heading">​</a></h4><p><em>No Prescribed Tests</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slotnumbertotimestamp">slotNumberToTimestamp<a class="hash-link" href="#slotnumbertotimestamp" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-5">Signature(s)<a class="hash-link" href="#signatures-5" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">slotNumberToTimestamp(slotNumber: uint64) returns int64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-5">Description<a class="hash-link" href="#description-5" title="Direct link to heading">​</a></h4><p>Convert a slot number to a timestamp using the slot duration and start of slot 0 obtained from this object&#x27;s <code>nodeCache</code>
.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-5">Parameters<a class="hash-link" href="#parameters-5" title="Direct link to heading">​</a></h4><ul><li><code>slotNumber</code> a number that identifies a slot in a Topl blockchain network.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-5">Returns<a class="hash-link" href="#returns-5" title="Direct link to heading">​</a></h4><p>A <a href="https://www.unixtimestamp.com/" target="_blank" rel="noopener noreferrer">Unix timestamp</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-5">Errors<a class="hash-link" href="#errors-5" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><ul><li>Slot number translates to a time too far in the future to be represented as a Unix timestamp (overflow).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-5">Testing Procedure<a class="hash-link" href="#testing-procedure-5" title="Direct link to heading">​</a></h4><p>The testing procedure for the constructor
is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/SlotUtil Tests/slot_timestamp_conversion_test">described on a separate page</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="timestamptoslotnumber">timestampToSlotNumber<a class="hash-link" href="#timestamptoslotnumber" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="signatures-6">Signature(s)<a class="hash-link" href="#signatures-6" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">timestampToSlotNumber(timestamp: int64) returns uint64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-6">Description<a class="hash-link" href="#description-6" title="Direct link to heading">​</a></h4><p>Convert a timestamp to a slot number using the slot duration and start of slot 0 obtained from this object&#x27;s
<code>nodeCache</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-6">Parameters<a class="hash-link" href="#parameters-6" title="Direct link to heading">​</a></h4><ul><li><code>timestamp</code> a <a href="https://www.unixtimestamp.com/" target="_blank" rel="noopener noreferrer">Unix timestamp</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-6">Returns<a class="hash-link" href="#returns-6" title="Direct link to heading">​</a></h4><p>The slot number that includes the given timestamp.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-6">Errors<a class="hash-link" href="#errors-6" title="Direct link to heading">​</a></h4><p>The errors that the method/function will produce include:</p><ul><li>Timestamp is before slot 0</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-procedure-6">Testing Procedure<a class="hash-link" href="#testing-procedure-6" title="Direct link to heading">​</a></h4><p>The testing procedure for the constructor
is <a href="/sdk-spec/docs/Modules/Util/NodeUtils/SlotUtil Tests/slot_timestamp_conversion_test">described on a separate page</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/topl/sdk-spec/tree/main/packages/create-docusaurus/templates/shared/docs/Modules/Util/NodeUtils/NodeUtils.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/sdk-spec/docs/Modules/Util"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Util</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sdk-spec/docs/Modules/Util/NodeUtils/BifrostConnection Tests/getUrl_test"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BifrostConnection.getUrl Tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#interface-bifrostconnection" class="table-of-contents__link toc-highlight">Interface BifrostConnection</a><ul><li><a href="#geturl" class="table-of-contents__link toc-highlight">getUrl</a></li></ul></li><li><a href="#class-nodecache" class="table-of-contents__link toc-highlight">Class NodeCache</a><ul><li><a href="#constructor" class="table-of-contents__link toc-highlight">Constructor</a></li><li><a href="#getgenesisblock" class="table-of-contents__link toc-highlight">getGenesisBlock</a></li><li><a href="#getnodeconfig" class="table-of-contents__link toc-highlight">getNodeConfig</a></li></ul></li><li><a href="#class-slotutil" class="table-of-contents__link toc-highlight">Class SlotUtil</a><ul><li><a href="#slotutil-constructor" class="table-of-contents__link toc-highlight">SlotUtil Constructor</a></li><li><a href="#slotnumbertotimestamp" class="table-of-contents__link toc-highlight">slotNumberToTimestamp</a></li><li><a href="#timestamptoslotnumber" class="table-of-contents__link toc-highlight">timestampToSlotNumber</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sdk-spec/">Spec</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/invite/topl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/topl_protocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/topl/sdk-spec" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/sdk-spec/assets/js/runtime~main.705f2394.js"></script>
<script src="/sdk-spec/assets/js/main.c67db431.js"></script>
</body>
</html>